{
  "openapi" : "3.0.1",
  "info" : {
    "title" : "meshMetering API documentation",
    "version" : "1.0.0"
  },
  "servers" : [ "https://localhost:8080" ],
  "tags" : [ ],
  "paths" : {
    "/api" : {
      "get" : {
        "tags" : [ "api" ],
        "operationId" : "apiRoot",
        "parameters" : [ {
          "name" : "Accept",
          "in" : "header",
          "description" : "meshApi is <<versioning,versioned>> and you should use  `application/vnd.meshcloud.api.v1.hal+json` as an `Accept` header to be guaranteed the V1 response format of this endpoint. New versions will be added in future.",
          "required" : true,
          "schema" : {
            "type" : "string"
          },
          "example" : "application/vnd.meshcloud.api.v1.hal+json"
        } ],
        "responses" : {
          "200" : {
            "description" : "200",
            "content" : {
              "application/vnd.meshcloud.api.v1.hal+json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/apiRoot"
                },
                "examples" : {
                  "apiRoot" : {
                    "value" : "{\n  \"_links\" : {\n    \"meshobjects\" : {\n      \"href\" : \"https://mesh-billing-url/api/meshobjects\"\n    },\n    \"self\" : {\n      \"href\" : \"https://mesh-billing-url/api\"\n    }\n  }\n}"
                  }
                }
              }
            }
          }
        },
        "security" : [ {
          "basic" : [ ]
        } ]
      }
    },
    "/api/meshobjects" : {
      "get" : {
        "tags" : [ "api" ],
        "operationId" : "meshObjectsRoot",
        "parameters" : [ {
          "name" : "Accept",
          "in" : "header",
          "description" : "meshApi is <<versioning,versioned>> and you should use  `application/vnd.meshcloud.api.meshobjects.v1.hal+json` as an `Accept` header to be guaranteed the V1 response format of this endpoint. New versions will be added in future.",
          "required" : true,
          "schema" : {
            "type" : "string"
          },
          "example" : "application/vnd.meshcloud.api.meshobjects.v1.hal+json"
        } ],
        "responses" : {
          "200" : {
            "description" : "200",
            "content" : {
              "application/vnd.meshcloud.api.meshobjects.v1.hal+json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/meshObjectsRoot"
                },
                "examples" : {
                  "meshObjectsRoot" : {
                    "value" : "{\n  \"_links\" : {\n    \"meshtenantusagereports\" : {\n      \"href\" : \"https://mesh-billing-url/api/meshobjects/meshtenantusagereports{?ownedByWorkspace,ownedByProject,isManaged,platform,platformType,platformTenantId,period,reportCategory,paymentMethodIdentifier,meshTenantId,finalizedAfter,cancelledAfter,status,showCancelled,sort}\",\n      \"templated\" : true\n    },\n    \"meshchargebacks\" : {\n      \"href\" : \"https://mesh-billing-url/api/meshobjects/meshchargebacks{?workspaceIdentifier,projectIdentifier,period,finalized,legacy,finalizedSince,cancelledSince}\",\n      \"templated\" : true\n    },\n    \"self\" : {\n      \"href\" : \"https://mesh-billing-url/api/meshobjects\"\n    }\n  }\n}"
                  }
                }
              }
            }
          }
        },
        "security" : [ {
          "basic" : [ ]
        } ]
      }
    },
    "/api/meshobjects/meshchargebacks" : {
      "get" : {
        "tags" : [ "api" ],
        "operationId" : "meshChargebackList",
        "parameters" : [ {
          "name" : "workspaceIdentifier",
          "in" : "query",
          "description" : "Filter for meshChargebacks that belong to the meshWorkspace with given identifier. (optional)",
          "required" : false,
          "schema" : {
            "type" : "string"
          }
        }, {
          "name" : "projectIdentifier",
          "in" : "query",
          "description" : "Filter for meshChargebacks that belong to the meshProject with given identifier. (optional)",
          "required" : false,
          "schema" : {
            "type" : "string"
          }
        }, {
          "name" : "period",
          "in" : "query",
          "description" : "Filter for meshChargebacks that belong to the provided period, e.g. '2022-01-01Z' (optional)",
          "required" : false,
          "schema" : {
            "type" : "string"
          }
        }, {
          "name" : "finalized",
          "in" : "query",
          "description" : "Filter for finalized or preview meshChargebacks. Provide 'true' to get finalized meshChargebacks or provide 'false' to get preview meshChargebacks.",
          "required" : false,
          "schema" : {
            "type" : "string"
          }
        }, {
          "name" : "page",
          "in" : "query",
          "description" : "The page number (default=0). See <<paging,Paging information>>.",
          "required" : true,
          "schema" : {
            "type" : "string"
          }
        }, {
          "name" : "size",
          "in" : "query",
          "description" : "The amount of elements in a single page (default={default-page-size}). See <<paging,Paging information>>.",
          "required" : true,
          "schema" : {
            "type" : "string"
          }
        }, {
          "name" : "sort",
          "in" : "query",
          "description" : "A custom order for sorting the results (optional). For meshChargebacks it is possible to filter by the following fields: `name`, `customerIdentifier`, `projectIdentifier`, `period`, `partnerIdentifier`. Possible directions are 'asc' or 'desc'. (e.g. sort=name,desc)",
          "required" : true,
          "schema" : {
            "type" : "string"
          }
        }, {
          "name" : "Accept",
          "in" : "header",
          "description" : "meshApi is <<versioning,versioned>> and you should use  `application/vnd.meshcloud.api.meshchargeback.v3.hal+json` as an `Accept` header to be guaranteed the V3 response format of this endpoint. New versions might be added in future.",
          "required" : true,
          "schema" : {
            "type" : "string"
          },
          "example" : "application/vnd.meshcloud.api.meshchargeback.v3.hal+json"
        } ],
        "responses" : {
          "200" : {
            "description" : "200",
            "content" : {
              "application/vnd.meshcloud.api.meshchargeback.v3.hal+json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/meshChargebackList"
                },
                "examples" : {
                  "meshChargebackList" : {
                    "value" : "{\n  \"_embedded\" : {\n    \"meshChargebacks\" : [ {\n      \"kind\" : \"meshChargeback\",\n      \"apiVersion\" : \"v3\",\n      \"metadata\" : {\n        \"name\" : \"2025-04-01Z/testPartner:testWorkspace:testProject\",\n        \"createdOn\" : \"2025-04-09T12:08:16.210065300Z\",\n        \"finalized\" : true\n      },\n      \"spec\" : {\n        \"projectIdentifier\" : \"testProject\",\n        \"period\" : \"2025-04-01Z\",\n        \"tags\" : {\n          \"paymentIdentifier\" : [ \"123\" ]\n        },\n        \"workspaceIdentifier\" : \"testWorkspace\"\n      },\n      \"status\" : {\n        \"timeframe\" : {\n          \"from\" : \"2025-04-01T00:00:00Z\",\n          \"to\" : \"2025-05-01T00:00:00Z\"\n        },\n        \"lineItems\" : [ {\n          \"reportCategory\" : \"BILLING\",\n          \"platformTenantId\" : \"test1-localProjectId\",\n          \"platformFullIdentifier\" : \"test1-instance.test1-location\",\n          \"reportId\" : \"test1-reportId\",\n          \"entryDate\" : \"2019-08-03T00:07:01.289Z\",\n          \"period\" : \"2019-07-01Z\",\n          \"netAmount\" : 1.65,\n          \"baseNetAmount\" : 1.65,\n          \"baseCurrency\" : \"EUR\",\n          \"exchangeRate\" : 1,\n          \"currency\" : \"EUR\",\n          \"sellerId\" : \"Operations\",\n          \"sellerProductGroup\" : \"Platform Team\"\n        }, {\n          \"reportCategory\" : \"BILLING\",\n          \"platformTenantId\" : \"test2-localProjectId\",\n          \"platformFullIdentifier\" : \"test2-instance.test2-location\",\n          \"reportId\" : \"test2-reportId\",\n          \"entryDate\" : \"2019-08-03T00:07:01.289Z\",\n          \"period\" : \"2019-07-01Z\",\n          \"netAmount\" : 3.12,\n          \"baseNetAmount\" : 3.12,\n          \"baseCurrency\" : \"EUR\",\n          \"exchangeRate\" : 1,\n          \"currency\" : \"EUR\",\n          \"sellerId\" : \"Operations\",\n          \"sellerProductGroup\" : \"Platform Team\"\n        } ],\n        \"netAmounts\" : [ {\n          \"currency\" : \"EUR\",\n          \"amount\" : 4.77,\n          \"baseCurrency\" : \"EUR\",\n          \"baseNetAmount\" : 4.77\n        } ]\n      },\n      \"_links\" : {\n        \"self\" : {\n          \"href\" : \"https://mesh-billing-url/api/meshobjects/meshchargebacks/2025-04-01Z/testPartner%3AtestWorkspace%3AtestProject\"\n        }\n      }\n    }, {\n      \"kind\" : \"meshChargeback\",\n      \"apiVersion\" : \"v3\",\n      \"metadata\" : {\n        \"name\" : \"2025-03-01Z/testPartner:testWorkspace:testProject\",\n        \"createdOn\" : \"2025-04-09T12:08:16.210990500Z\",\n        \"finalized\" : true\n      },\n      \"spec\" : {\n        \"projectIdentifier\" : \"testProject\",\n        \"period\" : \"2025-03-01Z\",\n        \"tags\" : { },\n        \"workspaceIdentifier\" : \"testWorkspace\"\n      },\n      \"status\" : {\n        \"timeframe\" : {\n          \"from\" : \"2025-03-01T00:00:00Z\",\n          \"to\" : \"2025-04-01T00:00:00Z\"\n        },\n        \"lineItems\" : [ ],\n        \"netAmounts\" : [ {\n          \"currency\" : \"EUR\",\n          \"amount\" : 0,\n          \"baseCurrency\" : \"EUR\",\n          \"baseNetAmount\" : 0\n        } ]\n      },\n      \"_links\" : {\n        \"self\" : {\n          \"href\" : \"https://mesh-billing-url/api/meshobjects/meshchargebacks/2025-03-01Z/testPartner%3AtestWorkspace%3AtestProject\"\n        }\n      }\n    } ]\n  },\n  \"_links\" : {\n    \"self\" : {\n      \"href\" : \"https://mesh-billing-url/api/meshobjects/meshchargebacks?workspaceIdentifier=testWorkspace&page=0&size=10&sort=name,desc\"\n    }\n  },\n  \"page\" : {\n    \"size\" : 10,\n    \"totalElements\" : 2,\n    \"totalPages\" : 1,\n    \"number\" : 0\n  }\n}"
                  }
                }
              }
            }
          }
        },
        "security" : [ {
          "basic" : [ ]
        } ]
      }
    },
    "/api/meshobjects/meshtenantusagereports" : {
      "get" : {
        "tags" : [ "api" ],
        "operationId" : "meshTenantUsageReportsList",
        "parameters" : [ {
          "name" : "ownedByWorkspace",
          "in" : "query",
          "description" : "Filter for meshTenantUsageReports that belong to the meshWorkspace with given identifier. (optional)",
          "required" : false,
          "schema" : {
            "type" : "string"
          }
        }, {
          "name" : "ownedByProject",
          "in" : "query",
          "description" : "Filter for meshTenantUsageReports that belong to the meshProject with given identifier. Make sure to also filter for ownedByWorkspace, as a project identifier is only unique inside a workspace! (optional)",
          "required" : false,
          "schema" : {
            "type" : "string"
          }
        }, {
          "name" : "isManaged",
          "in" : "query",
          "description" : "Filter for meshTenantUsageReports that are either managed or not managed by meshStack! meshStack collects all cost information from the cloud platform for all tenants. If a tenant is not managed by meshStack, it is an unmanaged tenant. If you provide `true` for this filter parameter, you only get meshTenantUsageReports for tenants that are managed by meshStack. If you provide `false`, you only get meshTenantUsageReports of unmanaged tenants. (optional)",
          "required" : false,
          "schema" : {
            "type" : "string"
          }
        }, {
          "name" : "platform",
          "in" : "query",
          "description" : "Filter for meshTenantUsageReports that belong to the provided platform in the format `<platformIdentifier>.<locationIdentifier>` (optional)",
          "required" : false,
          "schema" : {
            "type" : "string"
          }
        }, {
          "name" : "platformType",
          "in" : "query",
          "description" : "Filter for meshTenantUsageReports that belong to the provided platform type. Must be one of: `Azure`, `Aws`, `Gcp`, `AzureResourceGroup`, `AzureKubernetesService`, `Kubernetes`, `OpenShift`, `OpenStack`, `CloudFoundry`, `MeshMarketplace`, `GitHub`, `Custom` (optional)",
          "required" : false,
          "schema" : {
            "type" : "string"
          }
        }, {
          "name" : "platformTenantId",
          "in" : "query",
          "description" : "Filter for meshTenantUsageReports that belong to a certain tenant that can be identified via platform tenant ID (optional)",
          "required" : false,
          "schema" : {
            "type" : "string"
          }
        }, {
          "name" : "period",
          "in" : "query",
          "description" : "Filter for meshTenantUsageReports that belong to the provided period in format YYYY-MM, e.g. `2025-01` (optional)",
          "required" : false,
          "schema" : {
            "type" : "string"
          }
        }, {
          "name" : "reportCategory",
          "in" : "query",
          "description" : "Filter for meshTenantUsageReports that belong to the provided reportCategory, `BILLING` or `ENVIRONMENTAL`. (optional)",
          "required" : false,
          "schema" : {
            "type" : "string"
          }
        }, {
          "name" : "paymentMethodIdentifier",
          "in" : "query",
          "description" : "Filter for meshTenantUsageReports that have the meshPaymentMethod with given identifier assigned. Use an empty or blank value to filter for meshTenantUsageReports without an assigned meshPaymentMethod. (optional)",
          "required" : false,
          "schema" : {
            "type" : "string"
          }
        }, {
          "name" : "finalizedAfter",
          "in" : "query",
          "description" : "Filter for meshTenantUsageReports that were finalized after the provided <<data_types,date>> (e.g. `2025-06-01T00:00:00Z`). You can use this filter to retrieve all meshTenantUsageReports finalized after your last request for processing them in your billing system. You can e.g. provide the latest finalizationDate you received in your last request. You may then receive the newly finalized usage reports of the new period and probably updated usage reports of previous periods. This filter parameter is exclusive, meaning it will only match reports that were finalized after the given date. (optional)",
          "required" : false,
          "schema" : {
            "type" : "string"
          }
        }, {
          "name" : "cancelledAfter",
          "in" : "query",
          "description" : "Filter for meshTenantUsageReports that were cancelled after the provided <<data_types,date>> (e.g. 2025-06-01T00:00:00Z). When you apply this filter is provided, you will only get cancelled usage reports, meaning outdated data that was already updated. This filter parameter is exclusive, meaning it will only match reports that were cancelled after the given date. (optional)",
          "required" : false,
          "schema" : {
            "type" : "string"
          }
        }, {
          "name" : "showCancelled",
          "in" : "query",
          "description" : "By default, cancelled meshTenantUsageReports are not included in the response. If you want to include them, you can set this parameter to `true`. This is not required when you already filter for cancelledAfter. (optional)",
          "required" : false,
          "schema" : {
            "type" : "string"
          }
        }, {
          "name" : "status",
          "in" : "query",
          "description" : "Filter for meshTenantUsageReports that are in the given state `OPEN`, `FINALIZED` or `UPDATED`. You can e.g. use this filter to exclude meshTenantUsageReports that have never been finalized yet (e.g. preview usage reports of the current month) or to get all usage reports that were UPDATED at least once. You can provide this parameter multiple times, e.g. to get only FINALIZED and UPDATED usage reports: `?status=FINALIZED&status=UPDATED`. (optional)",
          "required" : false,
          "schema" : {
            "type" : "string"
          }
        }, {
          "name" : "page",
          "in" : "query",
          "description" : "The page number (default=0). See <<paging,Paging information>>.",
          "required" : true,
          "schema" : {
            "type" : "string"
          }
        }, {
          "name" : "size",
          "in" : "query",
          "description" : "The amount of elements in a single page (default={default-page-size}). See <<paging,Paging information>>.",
          "required" : true,
          "schema" : {
            "type" : "string"
          }
        }, {
          "name" : "sort",
          "in" : "query",
          "description" : "A custom order for sorting the results (optional). For meshTenantUsageReports it is possible to filter by the following fields: `platform`, `platformType`, `platformTenantId`, `ownedByWorkspace`, `ownedByProject`, `total`, `generatedAt`, `reportCategory`, `paymentMethodIdentifier`, `finalizedAt`, `cancelledAt`. Possible directions are 'asc' or 'desc'. (e.g. sort=platform,desc)",
          "required" : true,
          "schema" : {
            "type" : "string"
          }
        }, {
          "name" : "Accept",
          "in" : "header",
          "description" : "meshApi is <<versioning,versioned>> and you should use  `application/vnd.meshcloud.api.meshtenantusagereport.v3.hal+json` as an `Accept` header to be guaranteed the V3 response format of this endpoint. New versions might be added in future.",
          "required" : true,
          "schema" : {
            "type" : "string"
          },
          "example" : "application/vnd.meshcloud.api.meshtenantusagereport.v3.hal+json"
        } ],
        "responses" : {
          "200" : {
            "description" : "200",
            "content" : {
              "application/vnd.meshcloud.api.meshtenantusagereport.v3.hal+json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/meshTenantUsageReportsList"
                },
                "examples" : {
                  "meshTenantUsageReportsList" : {
                    "value" : "{\n  \"_embedded\" : {\n    \"meshTenantUsageReports\" : [ {\n      \"kind\" : \"meshTenantUsageReport\",\n      \"apiVersion\" : \"v3\",\n      \"metadata\" : {\n        \"uuid\" : \"720f8801-d500-4ff3-bdc2-aae5d6c1e2df\",\n        \"ownedByWorkspace\" : \"test-workspace-2\",\n        \"ownedByProject\" : \"test-project\",\n        \"createdAt\" : \"2025-01-07T01:00:00Z\"\n      },\n      \"spec\" : {\n        \"period\" : \"2024-12\",\n        \"reportCategory\" : \"BILLING\",\n        \"platformType\" : \"Azure\",\n        \"platform\" : \"azure.prod\",\n        \"platformTenantId\" : \"3ce47185-bb38-4da7-99eb-cb69e72c65dd\",\n        \"version\" : 2\n      },\n      \"status\" : {\n        \"generatedAt\" : \"2025-01-07T01:00:00Z\",\n        \"finalizedAt\" : \"2025-01-07T01:00:00Z\",\n        \"paymentMethod\" : {\n          \"identifier\" : \"test-payment-method\",\n          \"name\" : \"Test Payment Method\",\n          \"amount\" : 100,\n          \"expirationDate\" : \"2025-06-01T00:00:00Z\"\n        },\n        \"timeframe\" : {\n          \"from\" : \"2024-12-01T00:00:00Z\",\n          \"to\" : \"2025-01-01T00:00:00Z\"\n        },\n        \"tags\" : {\n          \"env\" : [ \"prod\" ],\n          \"costCenter\" : [ \"4058\" ]\n        },\n        \"lineItems\" : [ {\n          \"netAmount\" : {\n            \"amount\" : 50.0,\n            \"currency\" : \"EUR\",\n            \"baseAmount\" : 40.0,\n            \"baseCurrency\" : \"USD\",\n            \"exchangeRate\" : 1.1\n          },\n          \"sellerId\" : \"Platform Team\",\n          \"sellerProductGroup\" : \"Azure\"\n        } ]\n      },\n      \"_links\" : {\n        \"self\" : {\n          \"href\" : \"https://mesh-billing-url/api/meshobjects/meshtenantusagereports/720f8801-d500-4ff3-bdc2-aae5d6c1e2df\"\n        }\n      }\n    }, {\n      \"kind\" : \"meshTenantUsageReport\",\n      \"apiVersion\" : \"v3\",\n      \"metadata\" : {\n        \"uuid\" : \"ec072338-4703-437b-8f9e-2f3d3b7b27b3\",\n        \"ownedByWorkspace\" : \"test-workspace-2\",\n        \"ownedByProject\" : \"test-project\",\n        \"createdAt\" : \"2025-01-05T01:00:00Z\"\n      },\n      \"spec\" : {\n        \"period\" : \"2024-12\",\n        \"reportCategory\" : \"BILLING\",\n        \"platformType\" : \"Azure\",\n        \"platform\" : \"azure.prod\",\n        \"platformTenantId\" : \"ff73e596-f784-4984-bad6-c99507cc30ad\",\n        \"version\" : 1\n      },\n      \"status\" : {\n        \"generatedAt\" : \"2025-01-05T01:00:00Z\",\n        \"finalizedAt\" : \"2025-01-05T01:00:00Z\",\n        \"cancelledAt\" : \"2025-01-07T01:00:00Z\",\n        \"paymentMethod\" : {\n          \"identifier\" : \"test-payment-method\",\n          \"name\" : \"Test Payment Method\",\n          \"amount\" : 100,\n          \"expirationDate\" : \"2025-06-01T00:00:00Z\"\n        },\n        \"timeframe\" : {\n          \"from\" : \"2024-12-01T00:00:00Z\",\n          \"to\" : \"2025-01-01T00:00:00Z\"\n        },\n        \"tags\" : {\n          \"env\" : [ \"prod\" ],\n          \"costCenter\" : [ \"4058\" ]\n        },\n        \"lineItems\" : [ {\n          \"netAmount\" : {\n            \"amount\" : 40.0,\n            \"currency\" : \"EUR\",\n            \"baseAmount\" : 32.0,\n            \"baseCurrency\" : \"USD\",\n            \"exchangeRate\" : 1.1\n          },\n          \"sellerId\" : \"Platform Team\",\n          \"sellerProductGroup\" : \"Azure\"\n        } ]\n      },\n      \"_links\" : {\n        \"self\" : {\n          \"href\" : \"https://mesh-billing-url/api/meshobjects/meshtenantusagereports/ec072338-4703-437b-8f9e-2f3d3b7b27b3\"\n        }\n      }\n    } ]\n  },\n  \"_links\" : {\n    \"self\" : {\n      \"href\" : \"https://mesh-billing-url/api/meshobjects/meshtenantusagereports?ownedByWorkspace=test-workspace-2&showCancelled=true&page=0&size=10&sort=period,desc\"\n    }\n  },\n  \"page\" : {\n    \"size\" : 10,\n    \"totalElements\" : 2,\n    \"totalPages\" : 1,\n    \"number\" : 0\n  }\n}"
                  }
                }
              }
            }
          }
        },
        "security" : [ {
          "basic" : [ ]
        } ]
      }
    },
    "/api/meshobjects/meshtenantusagereports/720f8801-d500-4ff3-bdc2-aae5d6c1e2df" : {
      "get" : {
        "tags" : [ "api" ],
        "operationId" : "meshTenantUsageReport",
        "parameters" : [ {
          "name" : "Accept",
          "in" : "header",
          "description" : "meshApi is <<versioning,versioned>> and you should use  `application/vnd.meshcloud.api.meshtenantusagereport.v3.hal+json` as an `Accept` header to be guaranteed the V3 response format of this endpoint. New versions might be added in future.",
          "required" : true,
          "schema" : {
            "type" : "string"
          },
          "example" : "application/vnd.meshcloud.api.meshtenantusagereport.v3.hal+json"
        } ],
        "responses" : {
          "200" : {
            "description" : "200",
            "content" : {
              "application/vnd.meshcloud.api.meshtenantusagereport.v3.hal+json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/meshTenantUsageReport"
                },
                "examples" : {
                  "meshTenantUsageReport" : {
                    "value" : "{\n  \"kind\" : \"meshTenantUsageReport\",\n  \"apiVersion\" : \"v3\",\n  \"metadata\" : {\n    \"uuid\" : \"720f8801-d500-4ff3-bdc2-aae5d6c1e2df\",\n    \"ownedByWorkspace\" : \"test-workspace-2\",\n    \"ownedByProject\" : \"test-project\",\n    \"createdAt\" : \"2025-01-07T01:00:00Z\"\n  },\n  \"spec\" : {\n    \"period\" : \"2024-12\",\n    \"reportCategory\" : \"BILLING\",\n    \"platformType\" : \"Azure\",\n    \"platform\" : \"azure.prod\",\n    \"platformTenantId\" : \"3ce47185-bb38-4da7-99eb-cb69e72c65dd\",\n    \"version\" : 2\n  },\n  \"status\" : {\n    \"generatedAt\" : \"2025-01-07T01:00:00Z\",\n    \"finalizedAt\" : \"2025-01-07T01:00:00Z\",\n    \"paymentMethod\" : {\n      \"identifier\" : \"test-payment-method\",\n      \"name\" : \"Test Payment Method\",\n      \"amount\" : 100,\n      \"expirationDate\" : \"2025-06-01T00:00:00Z\"\n    },\n    \"timeframe\" : {\n      \"from\" : \"2024-12-01T00:00:00Z\",\n      \"to\" : \"2025-01-01T00:00:00Z\"\n    },\n    \"tags\" : {\n      \"env\" : [ \"prod\" ],\n      \"costCenter\" : [ \"4058\" ]\n    },\n    \"lineItems\" : [ {\n      \"netAmount\" : {\n        \"amount\" : 50.0,\n        \"currency\" : \"EUR\",\n        \"baseAmount\" : 40.0,\n        \"baseCurrency\" : \"USD\",\n        \"exchangeRate\" : 1.1\n      },\n      \"sellerId\" : \"Platform Team\",\n      \"sellerProductGroup\" : \"Azure\"\n    } ]\n  },\n  \"_links\" : {\n    \"self\" : {\n      \"href\" : \"https://mesh-billing-url/api/meshobjects/meshtenantusagereports/720f8801-d500-4ff3-bdc2-aae5d6c1e2df\"\n    }\n  }\n}"
                  }
                }
              }
            }
          }
        },
        "security" : [ {
          "basic" : [ ]
        } ]
      }
    },
    "/api/meshobjects/meshchargebacks/2025-04-01Z/testPartner%3AtestWorkspace%3AtestProject" : {
      "get" : {
        "tags" : [ "api" ],
        "operationId" : "meshChargeback",
        "parameters" : [ {
          "name" : "Accept",
          "in" : "header",
          "description" : "meshApi is <<versioning,versioned>> and you should use  `application/vnd.meshcloud.api.meshchargeback.v3.hal+json` as an `Accept` header to be guaranteed the V3 response format of this endpoint. New versions might be added in future.",
          "required" : true,
          "schema" : {
            "type" : "string"
          },
          "example" : "application/vnd.meshcloud.api.meshchargeback.v3.hal+json"
        } ],
        "responses" : {
          "200" : {
            "description" : "200",
            "content" : {
              "application/vnd.meshcloud.api.meshchargeback.v3.hal+json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/meshChargeback"
                },
                "examples" : {
                  "meshChargeback" : {
                    "value" : "{\n  \"kind\" : \"meshChargeback\",\n  \"apiVersion\" : \"v3\",\n  \"metadata\" : {\n    \"name\" : \"2025-04-01Z/testPartner:testWorkspace:testProject\",\n    \"createdOn\" : \"2025-04-09T12:08:16.210065300Z\",\n    \"finalized\" : true\n  },\n  \"spec\" : {\n    \"projectIdentifier\" : \"testProject\",\n    \"period\" : \"2025-04-01Z\",\n    \"tags\" : {\n      \"paymentIdentifier\" : [ \"123\" ]\n    },\n    \"workspaceIdentifier\" : \"testWorkspace\"\n  },\n  \"status\" : {\n    \"timeframe\" : {\n      \"from\" : \"2025-04-01T00:00:00Z\",\n      \"to\" : \"2025-05-01T00:00:00Z\"\n    },\n    \"lineItems\" : [ {\n      \"reportCategory\" : \"BILLING\",\n      \"platformTenantId\" : \"test1-localProjectId\",\n      \"platformFullIdentifier\" : \"test1-instance.test1-location\",\n      \"reportId\" : \"test1-reportId\",\n      \"entryDate\" : \"2019-08-03T00:07:01.289Z\",\n      \"period\" : \"2019-07-01Z\",\n      \"netAmount\" : 1.65,\n      \"baseNetAmount\" : 1.65,\n      \"baseCurrency\" : \"EUR\",\n      \"exchangeRate\" : 1,\n      \"currency\" : \"EUR\",\n      \"sellerId\" : \"Operations\",\n      \"sellerProductGroup\" : \"Platform Team\"\n    }, {\n      \"reportCategory\" : \"BILLING\",\n      \"platformTenantId\" : \"test2-localProjectId\",\n      \"platformFullIdentifier\" : \"test2-instance.test2-location\",\n      \"reportId\" : \"test2-reportId\",\n      \"entryDate\" : \"2019-08-03T00:07:01.289Z\",\n      \"period\" : \"2019-07-01Z\",\n      \"netAmount\" : 3.12,\n      \"baseNetAmount\" : 3.12,\n      \"baseCurrency\" : \"EUR\",\n      \"exchangeRate\" : 1,\n      \"currency\" : \"EUR\",\n      \"sellerId\" : \"Operations\",\n      \"sellerProductGroup\" : \"Platform Team\"\n    } ],\n    \"netAmounts\" : [ {\n      \"currency\" : \"EUR\",\n      \"amount\" : 4.77,\n      \"baseCurrency\" : \"EUR\",\n      \"baseNetAmount\" : 4.77\n    } ]\n  },\n  \"_links\" : {\n    \"self\" : {\n      \"href\" : \"https://mesh-billing-url/api/meshobjects/meshchargebacks/2025-04-01Z/testPartner%3AtestWorkspace%3AtestProject\"\n    }\n  }\n}"
                  }
                }
              }
            }
          }
        },
        "security" : [ {
          "basic" : [ ]
        } ]
      }
    }
  },
  "components" : {
    "schemas" : {
      "meshChargebackList" : {
        "title" : "meshChargebackList",
        "required" : [ "_embedded", "_links", "page" ],
        "type" : "object",
        "properties" : {
          "_links" : {
            "type" : "object",
            "description" : "Currently only contains the self link and <<paging,pagination>> links."
          },
          "_embedded" : {
            "required" : [ "meshChargebacks" ],
            "type" : "object",
            "properties" : {
              "meshChargebacks" : {
                "type" : "array",
                "description" : "List of <<mesh_chargeback_response_fields,meshChargeback>>.",
                "items" : {
                  "oneOf" : [ {
                    "type" : "object"
                  }, {
                    "type" : "boolean"
                  }, {
                    "type" : "string"
                  }, {
                    "type" : "number"
                  } ]
                }
              }
            },
            "description" : "Contains the actual content of the paged response."
          },
          "page" : {
            "type" : "object",
            "description" : "See <<paging,Paging information>>."
          }
        }
      },
      "apiRoot" : {
        "title" : "apiRoot",
        "required" : [ "_links" ],
        "type" : "object",
        "properties" : {
          "_links" : {
            "type" : "object",
            "description" : "All available <<index_links,Top-Level Links>> for the authenticated user."
          }
        }
      },
      "meshChargeback" : {
        "title" : "meshChargeback",
        "required" : [ "_links", "apiVersion", "kind", "metadata", "spec", "status" ],
        "type" : "object",
        "properties" : {
          "metadata" : {
            "required" : [ "createdOn", "finalized", "name" ],
            "type" : "object",
            "properties" : {
              "finalized" : {
                "type" : "boolean",
                "description" : "Finalization state of the meshChargeback. Value is 'true' for finalized and 'false' for preview meshChargebacks."
              },
              "name" : {
                "type" : "string",
                "description" : "A name a meshChargeback can be uniquely identified with."
              },
              "createdOn" : {
                "type" : "string",
                "description" : "Creation Date of the meshChargeback."
              }
            },
            "description" : "Contains attributes to identify a meshChargeback."
          },
          "apiVersion" : {
            "type" : "string",
            "description" : "Version of meshChargeback datatype. Matches the version provided in the `Accept` request header."
          },
          "_links" : {
            "type" : "object",
            "description" : "Available links <<links>> on a meshChargeback."
          },
          "kind" : {
            "type" : "string",
            "description" : "As a common meshObject structure exists, every meshObject has a 'kind'. This is always 'meshChargeback' for this endpoint."
          },
          "spec" : {
            "required" : [ "period", "projectIdentifier", "tags", "workspaceIdentifier" ],
            "type" : "object",
            "properties" : {
              "period" : {
                "type" : "string",
                "description" : "The period of the meshChargeback, e.g. '2022-01-01Z'."
              },
              "workspaceIdentifier" : {
                "type" : "string",
                "description" : "The meshWorkspace identifier this meshChargeback belongs to."
              },
              "projectIdentifier" : {
                "type" : "string",
                "description" : "The meshProject identifier this meshChargeback belongs to."
              },
              "tags" : {
                "type" : "object",
                "description" : "Key/Value pairs associated with this meshChargeback. This includes meshWorkspace, meshProject & meshPaymentMethod tags. Additionally metadata like paymentMethod attributes are provided. Keep in mind, that values are represented as an array to be consistent with other meshObjects. But at the moment, if multiple values are set for a certain tag, only the first value is available on a meshChargeback."
              }
            },
            "description" : "All fields in this section describe the meshChargeback."
          },
          "status" : {
            "required" : [ "lineItems", "netAmounts", "timeframe" ],
            "type" : "object",
            "properties" : {
              "lineItems" : {
                "type" : "array",
                "description" : "List of all tenant usage reports that have been booked on a meshChargeback. One lineItem is created per Tenant Usage Report and currency.",
                "items" : {
                  "required" : [ "baseCurrency", "baseNetAmount", "currency", "entryDate", "netAmount", "period", "platformFullIdentifier", "platformTenantId", "reportCategory", "reportId", "sellerId", "sellerProductGroup" ],
                  "type" : "object",
                  "properties" : {
                    "period" : {
                      "type" : "string",
                      "description" : "Report Period in which the usage for this line item actually occurred. If for some reason a usage report was not finalized before the related chargeback period ended, it will be added to a later meshChargeback. So meshChargebacks can contain line items from different reporting periods."
                    },
                    "sellerId" : {
                      "type" : "string",
                      "description" : "SellerId configured in meshStack for certain meshPlatforms or even specific products within a platform. This can be used to identify the department or group inside your company the netAmount will be charged to."
                    },
                    "platformTenantId" : {
                      "type" : "string",
                      "description" : "Id of the actual platform tenant in the cloud platform (e.g. AWS Account Id or OpenShift Project Id)."
                    },
                    "baseNetAmount" : {
                      "type" : "number",
                      "description" : "The converted amount. For example, if currency is USD and baseCurrency is EUR, this will be the amount resulting from conversion from USD to EUR."
                    },
                    "reportId" : {
                      "type" : "string",
                      "description" : "Id of the Tenant Usage Report this lineItem relates to."
                    },
                    "netAmount" : {
                      "type" : "number",
                      "description" : "Total cost associated with the given Tenant Usage Report for one currency."
                    },
                    "entryDate" : {
                      "type" : "string",
                      "description" : "Date when the usage report was actually finalized and not modified anymore afterwards."
                    },
                    "reportCategory" : {
                      "type" : "string",
                      "description" : "Tenant Usage Reports can either belong to category BILLING or ENVIRONMENTAL. This separation is needed as this kind of different data is provided in quite different time intervals."
                    },
                    "currency" : {
                      "type" : "string",
                      "description" : "Currency for the netAmount listed in this lineItem. Multiple lineItems are created if a Tenant Usage Report has costs distributed across multiple currencies."
                    },
                    "sellerProductGroup" : {
                      "type" : "string",
                      "description" : "With the sellerProductGroup the seller information can be further refined. This is for example used to identify the different service brokers used in the meshMarketplace."
                    },
                    "platformFullIdentifier" : {
                      "type" : "string",
                      "description" : "meshStack identifier of the platform the tenant belongs to."
                    },
                    "baseCurrency" : {
                      "type" : "string",
                      "description" : "Currency for the baseNetAmount listed in this lineItem. This value is either null or EUR."
                    }
                  }
                }
              },
              "netAmounts" : {
                "type" : "array",
                "description" : "NetAmounts per currency are provided here.",
                "items" : {
                  "required" : [ "amount", "baseCurrency", "baseNetAmount", "currency" ],
                  "type" : "object",
                  "properties" : {
                    "amount" : {
                      "type" : "number",
                      "description" : "The actual cost associated with the given currency."
                    },
                    "baseNetAmount" : {
                      "type" : "number",
                      "description" : "The converted amount. For example, if currency is USD and baseCurrency is EUR, this will be the amount resulting from conversion from USD to EUR."
                    },
                    "currency" : {
                      "type" : "string",
                      "description" : "Currency belonging to the netAmount."
                    },
                    "baseCurrency" : {
                      "type" : "string",
                      "description" : "The currency the amount was converted to. This value is either null or EUR."
                    }
                  }
                }
              },
              "timeframe" : {
                "required" : [ "from", "to" ],
                "type" : "object",
                "properties" : {
                  "from" : {
                    "type" : "string",
                    "description" : "At which point in time the period started (usually beginning of month)."
                  },
                  "to" : {
                    "type" : "string",
                    "description" : "Before which point in time the period ended (usually beginning of next month)."
                  }
                },
                "description" : "This provides actual details about the period the meshChargeback was generated for."
              }
            },
            "description" : "All fields in this section provide detailed content of the meshChargeback."
          }
        }
      },
      "meshTenantUsageReportsList" : {
        "title" : "meshTenantUsageReportsList",
        "required" : [ "_embedded", "_links", "page" ],
        "type" : "object",
        "properties" : {
          "_links" : {
            "type" : "object",
            "description" : "Currently only contains the self link and <<paging,pagination>> links."
          },
          "_embedded" : {
            "required" : [ "meshTenantUsageReports" ],
            "type" : "object",
            "properties" : {
              "meshTenantUsageReports" : {
                "type" : "array",
                "description" : "List of <<mesh_tenantUsageReport_response_fields,meshTenantUsageReport>>.",
                "items" : {
                  "oneOf" : [ {
                    "type" : "object"
                  }, {
                    "type" : "boolean"
                  }, {
                    "type" : "string"
                  }, {
                    "type" : "number"
                  } ]
                }
              }
            },
            "description" : "Contains the actual content of the paged response."
          },
          "page" : {
            "type" : "object",
            "description" : "See <<paging,Paging information>>."
          }
        }
      },
      "meshObjectsRoot" : {
        "title" : "meshObjectsRoot",
        "required" : [ "_links" ],
        "type" : "object",
        "properties" : {
          "_links" : {
            "type" : "object",
            "description" : "All available <<mesh_object_links,meshObject Links>> for the authenticated user."
          }
        }
      },
      "meshTenantUsageReport" : {
        "title" : "meshTenantUsageReport",
        "required" : [ "_links", "apiVersion", "kind", "metadata", "spec", "status" ],
        "type" : "object",
        "properties" : {
          "metadata" : {
            "required" : [ "createdAt", "ownedByProject", "ownedByWorkspace", "uuid" ],
            "type" : "object",
            "properties" : {
              "ownedByProject" : {
                "type" : "string",
                "description" : "The identifier of the project the meshTenantUsageReport belongs to or null if the tenant is not managed by meshStack. (optional)"
              },
              "createdAt" : {
                "type" : "string",
                "description" : "The date the meshTenantUsageReport was created in the system that serves the API."
              },
              "uuid" : {
                "type" : "string",
                "description" : "A uuid that identifies a meshTenantUsageReport uniquely."
              },
              "ownedByWorkspace" : {
                "type" : "string",
                "description" : "The identifier of the workspace the meshTenantUsageReport belongs to or null if the tenant is not managed by meshStack. (optional)"
              }
            },
            "description" : "Contains common attributes of a meshTenantUsageReport, that also exist on other meshObjects."
          },
          "apiVersion" : {
            "type" : "string",
            "description" : "Version of meshTenantUsageReport datatype. Matches the version provided in the `Accept` request header."
          },
          "_links" : {
            "type" : "object",
            "description" : "meshTenantUsageReports currently only provide a self link."
          },
          "kind" : {
            "type" : "string",
            "description" : "As a common meshObject structure exists, every meshObject has a 'kind'. This is always 'meshTenantUsageReport' for this endpoint."
          },
          "spec" : {
            "required" : [ "period", "platform", "platformTenantId", "platformType", "reportCategory", "version" ],
            "type" : "object",
            "properties" : {
              "period" : {
                "type" : "string",
                "description" : "The period of the meshTenantUsageReport, e.g. `2025-01`."
              },
              "platformTenantId" : {
                "type" : "string",
                "description" : "The platformTenantId that the meshTenantUsageReport belongs to."
              },
              "platformType" : {
                "type" : "string",
                "description" : "The platformType of the platform the meshTenantUsageReport belongs to. One of: `Azure`, `Aws`, `Gcp`, `AzureResourceGroup`, `AzureKubernetesService`, `Kubernetes`, `OpenShift`, `OpenStack`, `CloudFoundry`, `MeshMarketplace`, `GitHub`, `Custom`"
              },
              "reportCategory" : {
                "type" : "string",
                "description" : "The reportCategory of the meshTenantUsageReport, possible options are `BILLING` or `ENVIRONMENTAL`."
              },
              "version" : {
                "type" : "number",
                "description" : "When a TenantUsageReport is updated after it was already finalized, the version is always increased by 1."
              },
              "platform" : {
                "type" : "string",
                "description" : "The platformFullIdentifier of the platform the meshTenantUsageReport belongs to."
              }
            },
            "description" : "All fields in this section describe the meshTenantUsageReport."
          },
          "status" : {
            "required" : [ "finalizedAt", "generatedAt", "lineItems", "paymentMethod", "tags", "timeframe" ],
            "type" : "object",
            "properties" : {
              "lineItems" : {
                "type" : "array",
                "description" : "Top-Level line items of the TenantUsageReport. Separate line items are created by sellerId, sellerProductGroup and currency.",
                "items" : {
                  "required" : [ "netAmount", "sellerId", "sellerProductGroup" ],
                  "type" : "object",
                  "properties" : {
                    "sellerId" : {
                      "type" : "string",
                      "description" : "Seller information can be provided in the Product Catalog of meshStack. You can e.g. use the sellerId to separate costs coming from the cloud platform and additional fees that are applied by your company's platform team."
                    },
                    "netAmount" : {
                      "required" : [ "amount", "baseAmount", "baseCurrency", "currency", "exchangeRate" ],
                      "type" : "object",
                      "properties" : {
                        "amount" : {
                          "type" : "number",
                          "description" : "The concrete amount of reported costs in the original currency."
                        },
                        "exchangeRate" : {
                          "type" : "number",
                          "description" : "The actual exchange rate that was used for conversion to the base currency."
                        },
                        "currency" : {
                          "type" : "string",
                          "description" : "The currency used for the corresponding amount."
                        },
                        "baseCurrency" : {
                          "type" : "string",
                          "description" : "Currency for the baseAmount. This value is either null or EUR."
                        },
                        "baseAmount" : {
                          "type" : "number",
                          "description" : "The converted amount. For example, if currency is USD and baseCurrency is EUR, this will be the amount resulting from conversion from USD to EUR."
                        }
                      },
                      "description" : "A list of total reported amounts separated by currency."
                    },
                    "sellerProductGroup" : {
                      "type" : "string",
                      "description" : "The sellerProductGroup can specify the seller information to a more detailed level. It is for example used to provide the service broker name in case of a meshMarketplace usage report. The sellerId is set to the workspace identifier in that case."
                    }
                  }
                }
              },
              "timeframe" : {
                "required" : [ "from", "to" ],
                "type" : "object",
                "properties" : {
                  "from" : {
                    "type" : "string",
                    "description" : "At which point in time the period started (usually beginning of month)."
                  },
                  "to" : {
                    "type" : "string",
                    "description" : "Before which point in time the period ended (usually beginning of next month)."
                  }
                },
                "description" : "This provides details about the period the meshTenantUsageReport was generated for."
              },
              "finalizedAt" : {
                "type" : "string",
                "description" : "Date when the meshTenantUsageReport was finalized."
              },
              "cancelledAt" : {
                "type" : "string",
                "description" : "Date when the meshTenantUsageReport was cancelled and replaced by a new meshTenantUsageReport.",
                "nullable" : true
              },
              "generatedAt" : {
                "type" : "string",
                "description" : "Date when the meshTenantUsageReport was generated initially."
              },
              "paymentMethod" : {
                "required" : [ "amount", "expirationDate", "identifier", "name" ],
                "type" : "object",
                "properties" : {
                  "identifier" : {
                    "type" : "string",
                    "description" : "The identifier of the related payment method."
                  },
                  "amount" : {
                    "type" : "number",
                    "description" : "The amount of the related payment method, if set. (optional)"
                  },
                  "name" : {
                    "type" : "string",
                    "description" : "The name of the related payment method."
                  },
                  "expirationDate" : {
                    "type" : "string",
                    "description" : "The expiration date of the related payment method, if set. (optional)"
                  }
                },
                "description" : "The payment method that was assigned to the project the related tenant belongs to in the given period."
              },
              "tags" : {
                "type" : "object",
                "description" : "The related tags, that were inherited for the given period to the related tenant. This includes `workspace`, `project` and `payment method` tags. The values are provided as an array,as multiple values can be set for some tags."
              }
            },
            "description" : "All fields in this section provide detailed content of the meshTenantUsageReport."
          }
        }
      }
    },
    "securitySchemes" : {
      "basic" : {
        "type" : "http",
        "scheme" : "basic"
      }
    }
  }
}